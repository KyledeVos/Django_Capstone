<!-- Administrator Control - View All Products -->
<!DOCTYPE html>
<html>
    <head>
        <title>Admin Control - All Products</title>
        <!-- BootStrap Styling-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" >
    </head>
    <body class = "container-fluid">

        <!-- Heading Section -->
        <div class = "row"
            style="background-color: gray;">
            <!-- Return to Admin Home Page-->
            <div class = "col-xxl-2 col-xl-2 col-lg-2 col-md-3 col-sm-4 col-xs-4 my-2">
                <a class = "btn btn-outline-light"
                    href= "{% url 'crafts_by_micks:home_page' %}">
                    Admin Home
                </a>
            </div>
            <!-- Page Title -->
            <div class = "col text-start" style="color: white;">
                <h2>Create a New Product</h2>
            </div>
        </div>

        <!-- Categories compulsory for creation of a product-->
        {% if categories %}
            <form action= "{% url 'crafts_by_micks:add_product' %}" method="post" enctype="multipart/form-data">
                {% csrf_token %}

                <!----------------------------------------------------------------->
                <!-- Category Section-->
                <section class = "row">
                    <div class = "col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-8 my-2 mx-1 rounded"
                        style="background-color: blueviolet; color: white;">
                        <h3>Categories - Select One</h3>
                </div>
                </section>
                <!-- Create new Category Button-->
                <a class = "btn btn-outline-dark"
                    href= "{% url 'crafts_by_micks:create_category' source='new_product' error='none' %}">
                    New Category
                </a><br>

                <!-- Display each category title -->
                {% for category in categories%}
                    <input type="radio" name="category" id="category{{category.title}}" value="{{category.id}}" required />
                    <label for="category {{category.title}}">
                        <h6>{{category.title }}</h6>
                    </label>
                    <br>
                {% endfor %}

                <!----------------------------------------------------------------->
                <!-- Labels Section -->
                <section class = "row">
                    <div class = "col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-8 my-2 mx-1 rounded"
                        style="background-color: blueviolet; color: white;">
                        <h3>Labels - Optional</h3>
                    </div>
                </section>
                
                <!-- Create new Label Button-->
                <a class = "btn btn-outline-dark"
                    href= "{% url 'crafts_by_micks:create_label' source='new_product' error='none' %}">
                    New Label
                </a><br>

                <!-- Display each Label title -->
                {% for label in labels%}
                <input type="checkbox" name="labels" id="label{{label.id}}" value="{{label.id}}"/>
                <label for="label {{label.title}}">
                    {{label.title}}
                </label>
                <br>
                {% endfor %}

                <!----------------------------------------------------------------->
                <!-- Product Attributes-->
                <section class = "row">
                    <div class = "col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-8 my-2 mx-1 rounded"
                        style="background-color: blueviolet; color: white;">
                        <h3>Product Details</h3>
                    </div>
                </section>
                <!-- Error Display - Attempted Product Creation with non-unique name -->
                {% if error == "Duplicate Name" %}
                    <div class = "row">
                        <h4 class = " col-xxl-4 col-xl-4 col-lg-8 col-md-9 col-sm-8 col-xs-6
                                my-2 mx-1 p-1 rounded"
                            style = "border: 3px solid red;">
                            Error: {{error}}
                        </h4>
                    </div>
                {%endif%}

                <!-- Product Title -->
                <div class = "row">
                    <div class = "col-xxl-6 col-xl-6 col-lg-6 col-md-6 col-sm-6 form-outline mb-2">
                        <label><strong>Product Name:</strong></label>
                        <input class="form-control" style="border: 2px solid black;"
                            type="text", name="title" required>
                    </div>
                </div>





                    <ul>


                        <li>
                            <label>Description</label>
                            <textarea name="description" rows="10" cols="50" style="resize: none;" required></textarea>
                            <br>
                        </li>
                        
                        <br>
                        <h1>Size Pricing</h1>
                        {% for size in size_choices %}
                            <li>
                            
                                <label><h4>{{size}}</h4></label>
                                <label>Price:</label>
                                <input type="number" min="0.0" name='{{size}} price' placeholder="0.00" step="0.01">
                                <br>
                            </li>
                        {% endfor %}
                        <br>

                        <h1>Product Options</h1>
                        {% for option_num in options_list %}
                            <li>
                                <label>Option {{option_num}}</label>
                                <input type="text" name="Option{{option_num}} title" placeholder="Name">
                                <input type="text" name="Option{{option_num}} desc" placeholder="Description">
                                <br>
                            </li>

                        {%endfor %}
                    </ul>
                    <br>

                    <label>Product Main Image</label>
                    <input type="file" name="main_image" required>
                    <br>

                    <h4>Additional Images</h4>
                    {% for image_num in images_list%}
                        <label>Image: {{image_num}}</label>
                            <label>Add Image</label>
                            <input type="file" name="Image{{image_num}} image">
                            <br>
                    {% endfor %}

                    <input
                    type="submit"
                    value="Create Product" />

            </form>

        {% else %}
        <h1>A Category is needed before a product can be added</h1>
        <a href = "{% url 'crafts_by_micks:create_category' source='new_product' error='none' %}">New Product Category</a>

        {% endif%}
    </body>
</html>
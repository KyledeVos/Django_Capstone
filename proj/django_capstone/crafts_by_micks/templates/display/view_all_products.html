<!-- Administrator Control - View All Products -->
<!DOCTYPE html>
<html>
    <head>
        <title>Admin Control - All Products</title>
        <!-- BootStrap Styling-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css"
            rel="stylesheet" >
    </head>

    <body class = "container-fluid">
        <!-- Heading Section -->
        <div class = "row pt-1 pb-1"
            style="background-color: rgb(61, 60, 60);">
            <!-- Return to Admin Home Page-->
            <div class = "col-xxl-2 col-xl-2 col-lg-2 col-md-3 col-sm-4 col-xs-4 my-2">
                <a class = "btn btn-outline-light"
                    href= "{% url 'crafts_by_micks:home_page' %}">
                    Admin Home
                </a>
            </div>
            <!-- Page Title -->
            <div class = "col text-start" style="color: white;">
                <h2>All Products</h2>
            </div>
        </div>

        <!-- Display Categories, Product Main Image and Title-->
        {% if prod_categories %}
            <!-- Display products in seperated categories -->
            {% for category in prod_categories %}

                <!-- Category Title-->
                <div class = "row">
                    <div class = "col-xxl-5 col-xl-5 col-lg-6 col-md-8
                            col-sm-10 col-xs-12 mx-1 my-2 rounded"
                        style = " background-color: rgb(37, 4, 45);
                            border: 1px solid black; color: white;">
                            <h3>{{category.0}}</h3  >
                    </div>
                </div>

                <div class = "row p-1">
                    {% for product in category %}
                    <!-- seperate each product-->
                        {% if forloop.counter > 1 %}
                            <div class="card mx-1 my-1"
                                style="max-width: 14rem; border: 2px solid black;">
                                <!-- Product Main Image-->
                                <img class = " my-2 card-img-top rounded product_image"
                                    style = "width: 100%; height: 15rem; object-fit:cover;"
                                src="{{product.product_image.url}}">

                                <div class="card-body">
                                    <!-- Product Name -->
                                    <h5 class="card-title text-truncate">
                                        {{product.title}}
                                    </h5>
                                    <!-- Update Button -->
                                    <a class = "btn btn-outline-dark"
                                        href = "{% url 'crafts_by_micks:update_product' product.id 'none' %}">
                                        Update
                                    </a>
                                    <!-- Delete Button -->
                                    <a class = "btn btn-outline-light"
                                        style="background-color: rgb(242, 22, 22);"
                                        href="{% url 'crafts_by_micks:initial_product_deletion' product.id %}">
                                        Delete
                                    </a>
                                </div>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            {% endfor %}
        {% else %}
        <!-- Display Message for No Products-->
            <div class = "row">
                <div class = "col-xxl-5 col-xl-5 col-lg-6 col-md-8 col-sm-10 col-xs-12
                    mx-1 my-2 rounded"
                    style = " background-color: gray; border: 1px solid black; color: white;">
                    <h2>No Products</h2>
                </div>
            </div>
        {% endif %}
    </body>
</html>

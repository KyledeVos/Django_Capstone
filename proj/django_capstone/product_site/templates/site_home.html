<!-- Extend page_base allowing for User Login and SignUp options to be accessible-->
{% extends "page_base.html" %}
{% load static %}

{% block content %}

<!-- Display Products loaded in system or 'maintenance' message if none are loaded-->
{% if products %}
    
    {% for category in products %}
        <div class = "row my-2 text-center border border-primary ">
            <h1>{{category.0}}</h1>
        </div>
        
        <section class = "row border border-secondary my-2 g-1">
            {% for product in category.1 %}
                <div class = "col-xl-3 p-0">
                    <!--Display Multiple Sizes Notification for Product with Pricing Options-->
                    {% if product.multiple_sizes is True%}
                        <h6 class = "card-header border-0 text-center fw-bold bg-transparent"
                            style="color: rgb(141, 26, 176);">
                            Multiple Sizes</h6>
                    {% else %}
                    <!--Spacer-->
                        <h6 class = "card-header border-0 text-center bg-transparent">&nbsp</h6>
                    {% endif %}
                    
                    <!-- Product Title-->
                    <h5 class = "card-header border-0 text-center bg-transparent">
                        {{product.title}}
                    </h5>

                    <!-- Product Main Image -->
                    <a class = "mx-5" href="{% url 'product_site:product_view' product.id 'none' %}">
                        <img class = "my-2 card-img-top rounded product_image"
                            src="{{product.main_image.url}}">
                    </a>
                    <h5 class = "card-header border-0 text-center bg-transparent">R{{product.display_price}}</h5>
                    <form class="text-center d-grid mx-5" action="{% url 'product_site:product_view' product.id 'none' %}">
                        <button type="submit" class="btn btn-outline-dark " >View</button>
                    </form>

                </div>
            {% endfor %}
        </section>
    {% endfor %}

{% else %}
    <h2>Site under maintenance - Products will be back soon!</h2>
{% endif %}





{% endblock %}